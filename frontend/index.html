<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Circuito TerÃª Verde</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <div class="header-content">
            <div class="logo">ğŸŒ¿ Circuito TerÃª Verde</div>
            <div class="nav-buttons">
                <button onclick="window.location.href='cadastro.html'">Cadastrar</button>
                <button onclick="window.location.href='login.html'">Entrar</button>
            </div>
        </div>
    </header>

    <div class="container">
        <div id="alertContainer"></div>

        <div class="welcome">
            <h1>ğŸŒ¿ Explore TeresÃ³polis</h1>
            <p>Trilhas ecolÃ³gicas e eventos naturais</p>
        </div>

        <div class="card">
            <h2>ğŸ¥¾ Trilhas DisponÃ­veis</h2>
            <div id="trilhas" class="grid"></div>
        </div>

        <div class="card">
            <h2>ğŸª PrÃ³ximos Eventos</h2>
            <div id="eventos" class="grid"></div>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        async function loadTrilhas() {
            const response = await fetch(`${API_URL}/trilhas`);
            const data = await response.json();
            const container = document.getElementById('trilhas');
            
            if (data.success && data.data.length > 0) {
                container.innerHTML = data.data.map(t => `
                    <div class="item-card">
                        <h3>${t.nome}</h3>
                        <p>${t.descricao}</p>
                        <p><strong>ğŸ“</strong> ${t.localizacao}</p>
                        <p><strong>ğŸ“</strong> ${t.distancia} km | â±ï¸ ${t.duracao}</p>
                        <span class="badge badge-${t.dificuldade === 'fÃ¡cil' ? 'success' : t.dificuldade === 'moderada' ? 'warning' : 'danger'}">${t.dificuldade}</span>
                        <span class="badge badge-${t.disponivel ? 'success' : 'danger'}">${t.disponivel ? 'Aberta' : 'Fechada'}</span>
                    </div>
                `).join('');
            }
        }

        async function loadEventos() {
            const response = await fetch(`${API_URL}/eventos?ativo=true`);
            const data = await response.json();
            const container = document.getElementById('eventos');
            
            if (data.success && data.data.length > 0) {
                container.innerHTML = data.data.map(e => `
                    <div class="item-card">
                        <h3>${e.titulo}</h3>
                        <p>${e.descricao}</p>
                        <p><strong>ğŸ“</strong> ${e.local}</p>
                        <p><strong>ğŸ“…</strong> ${new Date(e.dataInicio).toLocaleDateString('pt-BR')}</p>
                        <p><strong>ğŸ‘¥</strong> ${e.vagasDisponiveis}/${e.capacidade} vagas</p>
                        <span class="badge badge-info">${e.tipo}</span>
                    </div>
                `).join('');
            }
        }

        loadTrilhas();
        loadEventos();
    </script>
</body>
</html>